<!doctype html>



  


<html class="theme-next muse use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="vergilius.me">
<meta property="og:type" content="website">
<meta property="og:title" content="vergilius的博客">
<meta property="og:url" content="http://vergilius.me/index.html">
<meta property="og:site_name" content="vergilius的博客">
<meta property="og:description" content="vergilius.me">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="vergilius的博客">
<meta name="twitter:description" content="vergilius.me">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://vergilius.me/"/>

  <title> vergilius的博客 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">vergilius的博客</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">Know Yourself</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/03/booklist/" itemprop="url">
                  设计书籍书单
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-02-03T18:44:12+08:00" content="2017-02-03">
              2017-02-03
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/书单/" itemprop="url" rel="index">
                    <span itemprop="name">书单</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>最近阅读了一些设计方面的书籍，主要是根据和lucida的书单还有知乎上的书单选择了一些阅读：<br><a href="http://lucida.me/blog/developer-reading-list/#interface_design" title="程序员必读书单 1.0" target="_blank" rel="external">http://lucida.me/blog/developer-reading-list/#interface_design</a></p>
<p><a href="http://ohenry.cn/books/" title="project o&#39;henry" target="_blank" rel="external">http://ohenry.cn/books/</a> </p>
<p><a href="http://www.zhihu.com/question/20924373" target="_blank" rel="external">http://www.zhihu.com/question/20924373</a></p>
<p><a href="http://www.typeisbeautiful.com/" target="_blank" rel="external">http://www.typeisbeautiful.com/</a></p>
<p><a href="http://www.zhihu.com/question/21102577" target="_blank" rel="external">http://www.zhihu.com/question/21102577</a></p>
<p><a href="https://book.douban.com/subject/5394309/" target="_blank" rel="external"><img src="http://oeb0ci3nk.bkt.clouddn.com/image/blog/s4592217.jpg" alt="简约至上 : 交互式设计四策略 | 全本" title="简约至上 : 交互式设计四策略"></a></p>
<ul>
<li>通过删除，组织，隐藏，转移来简化设计</li>
</ul>
<p><a href="https://book.douban.com/subject/25879430/" target="_blank" rel="external"><img src="http://oeb0ci3nk.bkt.clouddn.com/image/blog/s27274313.jpg" alt="写给大家看的设计书（第3版）" title="写给大家看的设计书（第3版）"></a></p>
<ul>
<li>门外汉设计入门书</li>
</ul>
<p><a href="https://book.douban.com/subject/20381558/" target="_blank" rel="external"><img src="http://oeb0ci3nk.bkt.clouddn.com/image/blog/s24230856.jpg" alt="移动应用UI设计模式" title="移动应用UI设计模式"></a></p>
<ul>
<li>移动UI设计入门书籍，基本没有什么废话，整本书都是UI设计的图片例子。</li>
</ul>
<p><a href="https://book.douban.com/subject/25932290/" target="_blank" rel="external"><img src="http://oeb0ci3nk.bkt.clouddn.com/image/blog/s27338939.jpg" alt="认知与设计 : 理解UI设计准则 | 全本" title="认知与设计 : 理解UI设计准则 | 全本"></a></p>
<ul>
<li>根据心理学，大脑记忆，阅读方式，眼球跟踪等各种研究成果给出一些软件设计时相应的应该遵循的原则。</li>
</ul>
<p><a href="https://book.douban.com/subject/25716088/" target="_blank" rel="external"><img src="http://oeb0ci3nk.bkt.clouddn.com/image/blog/s27979205.jpg" alt="界面设计模式" title="界面设计模式"></a></p>
<ul>
<li>将导航，页面元素布局，列表，表格，表单，社交媒体等网站设计中用到的元素都分门别类的罗列出来，很不错的设计参考书，如果设计的时候拿不定主意，可以拿出来翻一翻对比几种模式的优劣，然后决定选择哪一种。</li>
</ul>
<p><a href="https://book.douban.com/subject/4230237/" target="_blank" rel="external"><img src="http://oeb0ci3nk.bkt.clouddn.com/s4473054.jpg" alt="设计中的设计 | 全本" title="设计中的设计 | 全本"></a></p>
<ul>
<li>通过不同的设计项目的设计过程分别展现了摄影，图片，平面设计，产品设计，宣传手册，图书版面，标识系统，家具，建筑，广告设计等，最后讲述了设计史以及作者对设计的思考：设计这个职业就是在揪着我们的耳朵和眼睛去发现日常生活中的问题。不过为了美观书的页面留白太多了，艺术家真是太喜欢留白了。</li>
</ul>
<p><a href="https://book.douban.com/subject/24869617/" target="_blank" rel="external"><img src="http://oeb0ci3nk.bkt.clouddn.com/s26852182.jpg" alt="通用设计法则" title="通用设计法则"></a></p>
<ul>
<li>基本是把心理学的文献做了一个索引然后配上图例进行解释说明，就像开篇所说：“优秀的设计师有时会无视设计法则。但当他们这样做的时候，通常会有一些补偿性的措施。除非你能确定你能做得那么好，否则最好还是遵守这些法则。”</li>
</ul>
<p><a href="https://book.douban.com/subject/4165856/" target="_blank" rel="external"><img src="http://oeb0ci3nk.bkt.clouddn.com/image/blog/s4314702.jpg" alt="配色设计原理" title="配色设计原理"></a></p>
<ul>
<li>理论结合实际，讲解思路清晰，感觉选用的少数图片稍微有点过时，希望下一版能改进。</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/08/za/" itemprop="url">
                  游戏视频混剪 - Brian Tyler - Mustang Nismo
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-01-08T18:44:12+08:00" content="2017-01-08">
              2017-01-08
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/杂/" itemprop="url" rel="index">
                    <span itemprop="name">杂</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>中二少年犯二合集:</p>
<p style="text-align:center"><embed height="415" width="544" quality="high" allowfullscreen="true" type="application/x-shockwave-flash" src="//static.hdslb.com/miniloader.swf" flashvars="aid=7864515&page=1" pluginspage="//www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash"></p>

<p><img src="http://oeb0ci3nk.bkt.clouddn.com/image/blog/Brian%20Tyler%20-%20Mustang.png" alt="Brian Tyler - Mustang Nismo" title="Brian Tyler - Mustang Nismo"></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/06/za/" itemprop="url">
                  游戏视频混剪 - Linkin Park - Iridescent
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-01-06T18:44:12+08:00" content="2017-01-06">
              2017-01-06
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/杂/" itemprop="url" rel="index">
                    <span itemprop="name">杂</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <script type="text/javascript">
    if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
        document.write('<a href="http://oeb0ci3nk.bkt.clouddn.com/image/blog/Linkin%20Park-Iridescent.png" class="fancybox" rel="group" title="Linkin Park - Iridescent"><img src="http://oeb0ci3nk.bkt.clouddn.com/image/blog/Linkin%20Park-Iridescent.png" alt="Linkin Park - Iridescent" title="Linkin Park - Iridescent"><p class="image-caption">Linkin Park - Iridescent</p></a>');

    } else {
        document.write('<p style="text-align:center"><embed height="415" width="544" quality="high" allowfullscreen="true" type="application/x-shockwave-flash" src="//static.hdslb.com/miniloader.swf" flashvars="aid=7506330&page=1" pluginspage="//www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash"></embed></p>');
    }
</script>





          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/13/za/" itemprop="url">
                  游戏视频混剪 - Lindsey Stirling-Take Flight
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-12-13T18:44:12+08:00" content="2016-12-13">
              2016-12-13
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/杂/" itemprop="url" rel="index">
                    <span itemprop="name">杂</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p style="text-align:center"><embed height="415" width="544" quality="high" allowfullscreen="true" type="application/x-shockwave-flash" src="//static.hdslb.com/miniloader.swf" flashvars="aid=7508584&page=1" pluginspage="//www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash"></p>

<p><img src="http://oeb0ci3nk.bkt.clouddn.com/image/blog/Lindsey%20Stirling-Take%20Flight.png" alt="Lindsey Stirling-Take Flight" title="Lindsey Stirling-Take Flight"></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/23/booklist/" itemprop="url">
                  学习方法书单
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-11-23T18:44:12+08:00" content="2016-11-23">
              2016-11-23
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/书单/" itemprop="url" rel="index">
                    <span itemprop="name">书单</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>我将以前阅读过的学习方法方面的书籍分门别类并做了整理：</p>
<h3 id="1-记忆和大脑结构"><a href="#1-记忆和大脑结构" class="headerlink" title="1.记忆和大脑结构"></a>1.记忆和大脑结构</h3><p><a href="https://book.douban.com/subject/1944205/" target="_blank" rel="external"><img src="http://oeb0ci3nk.bkt.clouddn.com/image/blog/s2194531.jpg" alt="追寻记忆的痕迹" title="追寻记忆的痕迹"></a></p>
<ul>
<li>这本书的作者很会写作，可以把晦涩难懂的道理讲得通俗易懂。</li>
</ul>
<h3 id="2-心理学"><a href="#2-心理学" class="headerlink" title="2.心理学"></a>2.心理学</h3><h4 id="社会心理学"><a href="#社会心理学" class="headerlink" title="社会心理学"></a>社会心理学</h4><p><a href="https://book.douban.com/subject/2328458/" target="_blank" rel="external"><img src="http://oeb0ci3nk.bkt.clouddn.com/image/blog/s3028088.jpg" alt="社会性动物" title="社会性动物"></a></p>
<ul>
<li>作者通过自己设计的实验来验证自己假设的观点，正如作者自己所说，这种实验以人为实验对象，尽管作者用了很多不同的方法控制实验条件，但人是最复杂的生物，所以通过实验验证的观点还是听听就好。不过通过这本书可以了解到社会心理学所研究的问题和对象，所使用的方法，以及对于我们生活可能起到的帮助作用。我个人觉得越是会独立思考的人作为个人所做出的决策和行动越难以统计和预测，而越是沉浸在各种媒体杂志信息里不会独立思考的个人所做的决定则越是接近作者提出的观点。</li>
</ul>
<h4 id="心理学原理以及研究方法"><a href="#心理学原理以及研究方法" class="headerlink" title="心理学原理以及研究方法"></a>心理学原理以及研究方法</h4><p><a href="https://book.douban.com/subject/1221479/" target="_blank" rel="external"><img src="http://oeb0ci3nk.bkt.clouddn.com/image/blog/s1427468.jpg" alt="与“众”不同的心理学：如何正视心理学" title="与“众”不同的心理学：如何正视心理学"></a></p>
<ul>
<li>从各个方面讲解大众对心理学的误解，以及心理学的研究方法。很多时候作者都是在列举其他学科的例子来说明心理学也和其他学科一样是一门科学。</li>
</ul>
<h3 id="3-训练方法"><a href="#3-训练方法" class="headerlink" title="3.训练方法"></a>3.训练方法</h3><h4 id="高效学习"><a href="#高效学习" class="headerlink" title="高效学习"></a>高效学习</h4><p><a href="https://book.douban.com/subject/25783654/" target="_blank" rel="external"><img src="http://oeb0ci3nk.bkt.clouddn.com/image/blog/s27172838.jpg" alt="如何高效学习" title="如何高效学习"></a></p>
<ul>
<li>这些方法对作者自己可能很有效，自己还是应该根据自己的情况调整后再找到适合自己的方法。</li>
</ul>
<p><a href="https://book.douban.com/subject/4726323/" target="_blank" rel="external"><img src="http://oeb0ci3nk.bkt.clouddn.com/image/blog/s4595192.jpg" alt="一万小时天才理论" title="一万小时天才理论"></a></p>
<ul>
<li>作者想要证明的就是达尔文的进化论不是完全正确，虽然基因可以决定很多东西，但是人的技巧的形成主要是通过大脑里的髓鞘质起作用。所以任何一项技能，经过积年累月的勤加练习，髓鞘质就会慢慢形成越来越厚的一层层绝缘外皮，促进回路里的脉冲更加精准，保证神经元之间的信息传递更加通畅，最终达到技艺精湛的境界，成为各行各业的大师。</li>
</ul>
<h4 id="灵感"><a href="#灵感" class="headerlink" title="灵感"></a>灵感</h4><p><a href="https://book.douban.com/subject/5372651/" target="_blank" rel="external"><img src="http://oeb0ci3nk.bkt.clouddn.com/image/blog/s4548399.jpg" alt="程序员的思维修炼 : 开发认知潜能的九堂课" title="程序员的思维修炼 : 开发认知潜能的九堂课"></a></p>
<ul>
<li>有很多关于大脑构造和如何快速高效学习的实用方法，也可以学会很多提升自己生活品质的方法，包括武术，冥想，呼吸，集中注意力，如何处理电子邮件，如何使用虚拟桌面提高工作效率。</li>
</ul>
<h4 id="思维导图"><a href="#思维导图" class="headerlink" title="思维导图"></a>思维导图</h4><p><a href="https://book.douban.com/subject/1047749/" target="_blank" rel="external"><img src="https://img1.doubanio.com/lpic/s1189689.jpg" alt="思维导图 : 放射性思维" title="思维导图 : 放射性思维"></a></p>
<ul>
<li>学习思维导图的画法。</li>
</ul>
<h4 id="阅读方法"><a href="#阅读方法" class="headerlink" title="阅读方法"></a>阅读方法</h4><p><a href="https://book.douban.com/subject/1013208/" target="_blank" rel="external"><img src="http://oeb0ci3nk.bkt.clouddn.com/image/blog/s1670978.jpg" alt="如何阅读一本书" title="如何阅读一本书"></a></p>
<ul>
<li>这本书教我们如何做一名合格的高效的有礼貌的阅读者。作者思维很缜密，整本书逻辑清晰，指导方法明确，对于提升阅读技巧很有帮助。 </li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/13/booklist/" itemprop="url">
                  前端书籍书单
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-13T18:44:12+08:00" content="2016-10-13">
              2016-10-13
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/书单/" itemprop="url" rel="index">
                    <span itemprop="name">书单</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>最近将以前阅读过的前端书籍整理了一下：</p>
<p><a href="https://book.douban.com/subject/2064791/" target="_blank" rel="external"><img src="http://oeb0ci3nk.bkt.clouddn.com/image/blog/s4549490.jpg" alt="Pro CSS and HTML Design Patterns" title="Pro CSS and HTML Design Patterns"></a></p>
<ul>
<li>内容很充实，就是稍显啰嗦，同一个例子，左边对齐的说了一遍，一模一样的右边对齐又再说一遍。</li>
</ul>
<p><a href="https://book.douban.com/subject/3182419/" target="_blank" rel="external"><img src="http://oeb0ci3nk.bkt.clouddn.com/image/blog/s4282671.jpg" alt="Object-Oriented JavaScript" title="Object-Oriented JavaScript"></a></p>
<p><a href="https://book.douban.com/subject/3346905/" target="_blank" rel="external"><img src="http://oeb0ci3nk.bkt.clouddn.com/image/blog/s4236699.jpg" alt="Professional JavaScript for Web Developers" title="Professional JavaScript for Web Developers"></a></p>
<ul>
<li>一般讲解某种语言的书在解释代码部分有几种情况：<br>1 把大段大段无用的代码（比如html和css）copy到书中，占据大部分篇幅，每次讲到新的知识点又把前面的代码重新copy一遍，真正的干货却少得可怜。<br>2 适当的写一些代码，但还是避免不了重复。<br>3 所有的代码都很紧凑精简，新增的代码是为了解释某个知识点才写出来，其他相关的代码都用 伪代码来代替，没有半点废话。<br>这本书从头到尾几乎都是干货。讲解某个知识点的时候 或者 解释一种模式或者方法的时候总会把与之相关的所有可能性和路径全部都列举出来，然后逐一讲解每种方法的优劣，对比然后按照步骤一步一步的由潜入深，最后得出最优解决方案。这样就能理解代码为什么要这样写，这样写有什么好处，哪种写法会有漏洞。<br>另外本书还指出了无数ie的bug。第4章(Execution Context and Scope) 第6和第7章的图，18章(Advanced timers和custom events)，第20章（Performance）是整本书的精华。</li>
</ul>
<p><a href="https://book.douban.com/subject/2228378/" target="_blank" rel="external"><img src="http://oeb0ci3nk.bkt.clouddn.com/image/blog/s5860151.jpg" alt="JavaScript权威指南" title="JavaScript权威指南"></a></p>
<ul>
<li>大部头的JavaScript参考书，流水账。</li>
</ul>
<p><a href="https://book.douban.com/subject/3332698/" target="_blank" rel="external"><img src="http://oeb0ci3nk.bkt.clouddn.com/image/blog/s3400022.jpg" alt="JavaScript : The Good Parts" title="JavaScript : The Good Parts"></a></p>
<ul>
<li>很精简，将JavaScript语言里好的部分和不好的部分都讲得非常清楚，写代码时候可以放在手头做为参考。</li>
</ul>
<p><a href="https://book.douban.com/subject/21792530/" target="_blank" rel="external"><img src="http://oeb0ci3nk.bkt.clouddn.com/image/blog/s25808235.jpg" alt="编写可维护的JavaScript" title="编写可维护的JavaScript"></a></p>
<ul>
<li>这本书前半部分的内容和《JavaScript : The Good Parts》有点重复，都是讲如何正确使用js的特性，而且最好是先读一下《JavaScript : The Good Parts》再读这本书，因为书中有些地方直接引用和提到了前者。后半部分可以很好的帮助自己从无到有建立起自己的js build环境。</li>
</ul>
<p><a href="https://book.douban.com/subject/3132277/" target="_blank" rel="external"><img src="http://oeb0ci3nk.bkt.clouddn.com/image/blog/s5914296.jpg" alt="高性能网站建设指南" title="高性能网站建设指南"></a></p>
<ul>
<li>非常精简的一本书，对组件并行下载，下载顺序，文件合并等内容都给出了如何优化的建议，整本书都是干货。</li>
</ul>
<p><a href="https://book.douban.com/subject/4719162/" target="_blank" rel="external"><img src="http://oeb0ci3nk.bkt.clouddn.com/image/blog/s4231089.jpg" alt="高性能网站建设进阶指南" title="高性能网站建设进阶指南"></a></p>
<ul>
<li>第一章稍微鸡肋一点，可有可无。整本书没有作者的第一本&lt;高性能网站建设指南&gt;好。</li>
</ul>
<p><a href="https://book.douban.com/subject/25831404/" target="_blank" rel="external"><img src="http://oeb0ci3nk.bkt.clouddn.com/image/blog/s27222906.jpg" alt="Principles of Object-Oriented JavaScript" title="Principles of Object-Oriented JavaScript"></a></p>
<ul>
<li>Zakas 的书，相对于他的《Professional.JavaScript.for.Web.Developers》这本书更多的介绍了js的最新的特性。</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/17/tech/" itemprop="url">
                  html和css摘要
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-08-17T18:44:12+08:00" content="2016-08-17">
              2016-08-17
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/技术/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="1-命名规范"><a href="#1-命名规范" class="headerlink" title="1.命名规范"></a>1.命名规范</h3><p>这些是Bootstrap 给出的命名规范：</p>
<h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h4><ul>
<li>用两个空格来代替制表符（tab） – 这是唯一能保证在所有环境下获得一致展现的方法。</li>
<li>为选择器分组时，将单独的选择器单独放在一行。</li>
<li>为了代码的易读性，在每个声明块的左花括号前添加一个空格。</li>
<li>声明块的右花括号应当单独成行。</li>
<li>每条声明语句的 : 后应该插入一个空格。</li>
<li>为了获得更准确的错误报告，每条声明都应该独占一行。</li>
<li>所有声明语句都应当以分号结尾。最后一条声明语句后面的分号是可选的，但是，如果省略这个分号，你的代码可能更易出错。</li>
<li>对于以逗号分隔的属性值，每个逗号后面都应该插入一个空格（例如，box-shadow）。</li>
<li>不要在 rgb()、rgba()、hsl()、hsla() 或 rect() 值的内部的逗号后面插入空格。这样利于从多个属性值（既加逗号也加空格）中区分多个颜色值（只加逗号，不加空格）。</li>
<li>对于属性值或颜色参数，省略小于 1 的小数前面的 0 （例如，.5 代替 0.5；-.5px 代替 -0.5px）。</li>
<li>十六进制值应该全部小写，例如，#fff。在扫描文档时，小写字符易于分辨，因为他们的形式更易于区分。</li>
<li>尽量使用简写形式的十六进制值，例如，用 #fff 代替#ffffff。</li>
<li>为选择器中的属性添加双引号，例如，input[type=”text”]。只有在某些情况下是可选的，但是，为了代码的一致性，建议都加上双引号。</li>
<li><p>避免为 0 值指定单位，例如，用 margin: 0; 代替margin: 0px;。</p>
<p>  /<em> Bad CSS </em>/<br>  .selector, .selector-secondary, .selector[type=text] {</p>
<pre><code>padding:15px;
margin:0px 0px 15px;
background-color:rgba(0, 0, 0, 0.5);
box-shadow:0px 1px 2px #CCC,inset 0 1px 0 #FFFFFF
</code></pre><p>  }</p>
<p>  /<em> Good CSS </em>/<br>  .selector,<br>  .selector-secondary,<br>  .selector[type=”text”] {</p>
<pre><code>padding: 15px;
margin-bottom: 15px;
background-color: rgba(0,0,0,.5);
box-shadow: 0 1px 2px #ccc, inset 0 1px 0 #fff;
</code></pre><p>  }</p>
</li>
</ul>
<h4 id="声明顺序"><a href="#声明顺序" class="headerlink" title="声明顺序"></a>声明顺序</h4><p>相关的属性声明应当归为一组，并按照下面的顺序排列：</p>
<ol>
<li>Positioning</li>
<li>Box model</li>
<li>Typographic</li>
<li>Visual</li>
</ol>
<p>由于定位（positioning）可以从正常的文档流中移除元素，并且还能覆盖盒模型（box model）相关的样式，因此排在首位。盒模型排在第二位，因为它决定了组件的尺寸和位置。</p>
<p>其他属性只是影响组件的内部（inside）或者是不影响前两组属性，因此排在后面。</p>
<p>完整的属性列表及其排列顺序请参考<a href="http://twitter.github.com/recess" title="recess" target="_blank" rel="external">http://twitter.github.com/recess</a></p>
<pre><code>.declaration-order {
  /* Positioning */
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 100;

  /* Box-model */
  display: block;
  float: right;
  width: 100px;
  height: 100px;

  /* Typography */
  font: normal 13px &quot;Helvetica Neue&quot;, sans-serif;
  line-height: 1.5;
  color: #333;
  text-align: center;

  /* Visual */
  background-color: #f5f5f5;
  border: 1px solid #e5e5e5;
  border-radius: 3px;

  /* Misc */
  opacity: 1;
}
</code></pre><h4 id="单行规则声明"><a href="#单行规则声明" class="headerlink" title="单行规则声明"></a>单行规则声明</h4><p>对于只包含一条声明的样式，为了易读性和便于快速编辑，建议将语句放在同一行。对于带有多条声明的样式，还是应当将声明分为多行。</p>
<p>这样做的关键因素是为了错误检测 – 例如，CSS 校验器指出在 183 行有语法错误。如果是单行单条声明，你就不会忽略这个错误；如果是单行多条声明的话，你就要仔细分析避免漏掉错误了。<br>    /<em> Single declarations on one line </em>/<br>      .span1 { width: 60px; }<br>      .span2 { width: 140px; }<br>      .span3 { width: 220px; }</p>
<pre><code>/* Multiple declarations, one per line */
.sprite {
  display: inline-block;
  width: 16px;
  height: 15px;
  background-image: url(../img/sprite.png);
}
.icon           { background-position: 0 0; }
.icon-home      { background-position: 0 -20px; }
.icon-account   { background-position: 0 -40px; }
</code></pre><h4 id="简写形式的属性声明"><a href="#简写形式的属性声明" class="headerlink" title="简写形式的属性声明"></a>简写形式的属性声明</h4><p>在需要显示地设置所有值的情况下，应当尽量限制使用简写形式的属性声明。常见的滥用简写属性声明的情况如下：</p>
<ul>
<li>padding</li>
<li>margin</li>
<li>font</li>
<li>background</li>
<li>border</li>
<li>border-radius<br>大部分情况下，我们不需要为简写形式的属性声明指定所有值。例如，HTML 的 heading 元素只需要设置上、下边距（margin）的值，因此，在必要的时候，只需覆盖这两个值就可以。过度使用简写形式的属性声明会导致代码混乱，并且会对属性值带来不必要的覆盖从而引起意外的副作用。</li>
</ul>
<p>MDN（Mozilla Developer Network）上一篇非常好的关于<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Shorthand_properties" title="shorthand properties" target="_blank" rel="external">shorthand properties </a>的文章，对于不太熟悉简写属性声明及其行为的用户很有用。<br>    /<em> Bad example </em>/<br>      .element {<br>        margin: 0 0 10px;<br>        background: red;<br>        background: url(“image.jpg”);<br>        border-radius: 3px 3px 0 0;<br>      }</p>
<pre><code>/* Good example */
.element {
  margin-bottom: 10px;
  background-color: red;
  background-image: url(&quot;image.jpg&quot;);
  border-top-left-radius: 3px;
  border-top-right-radius: 3px;
}
</code></pre><h4 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h4><p>代码是由人编写并维护的。请确保你的代码能够自描述、注释良好并且易于他人理解。好的代码注释能够传达上下文关系和代码目的。不要简单地重申组件或 class 名称。</p>
<p>对于较长的注释，务必书写完整的句子；对于一般性注解，可以书写简洁的短语。<br>    /<em> Bad example </em>/<br>    /<em> Modal header </em>/<br>    .modal-header {<br>      …<br>    }</p>
<pre><code>/* Good example */
/* Wrapping element for .modal-title and .modal-close */
.modal-header {
  ...
}
</code></pre><h4 id="class-命名"><a href="#class-命名" class="headerlink" title="class 命名"></a>class 命名</h4><ul>
<li>class 名称中只能出现小写字符和破折号（dashe）（不是下划线，也不是驼峰命名法）。破折号应当用于相关 class 的命名（类似于命名空间）（例如，.btn 和 .btn-danger）。</li>
<li>避免过度任意的简写。.btn 代表 button，但是 .s 不能表达任何意思。</li>
<li>class 名称应当尽可能短，并且意义明确。</li>
<li>使用有意义的名称。使用有组织的或目的明确的名称，不要使用表现形式（presentational）的名称。</li>
<li>基于最近的父 class 或基本（base） class 作为新 class 的前缀。</li>
<li><p>使用 .js-<em> class 来标识行为（与样式相对），并且不要将这些 class 包含到 CSS 文件中。<br>在为 Sass 和 Less 变量命名是也可以参考上面列出的各项规范。<br>  /</em> Bad example */<br>  .t { … }<br>  .red { … }<br>  .header { … }</p>
<p>  /<em> Good example </em>/<br>  .tweet { … }<br>  .important { … }<br>  .tweet-header { … }</p>
</li>
</ul>
<h4 id="选择器"><a href="#选择器" class="headerlink" title="选择器"></a>选择器</h4><ul>
<li>对于通用元素使用 class ，这样利于渲染性能的优化。</li>
<li>对于经常出现的组件，避免使用属性选择器（例如，[class^=”…”]）。浏览器的性能会受到这些因素的影响。</li>
<li>选择器要尽可能短，并且尽量限制组成选择器的元素个数，建议不要超过 3 。</li>
<li><p>只有在必要的时候才将 class 限制在最近的父元素内（也就是后代选择器）（例如，不使用带前缀的 class 时 – 前缀类似于命名空间）。<br>扩展阅读：<br><a href="http://markdotto.com/2012/02/16/scope-css-classes-with-prefixes/" title="Scope CSS classes with prefixes" target="_blank" rel="external">http://markdotto.com/2012/02/16/scope-css-classes-with-prefixes/</a><br><a href="http://markdotto.com/2012/03/02/stop-the-cascade/" title="Stop the cascade" target="_blank" rel="external">http://markdotto.com/2012/03/02/stop-the-cascade/</a><br>  /<em> Bad example </em>/<br>  span { … }<br>  .page-container #stream .stream-item .tweet .tweet-header .username { … }<br>  .avatar { … }</p>
<p>  /<em> Good example </em>/<br>  .avatar { … }<br>  .tweet-header .username { … }<br>  .tweet .avatar { … }</p>
</li>
</ul>
<h4 id="性能优化"><a href="#性能优化" class="headerlink" title="性能优化"></a>性能优化</h4><ul>
<li>切图后保存成png或者gif格式，而不是jpg格式以减小图片大小，在能保证图片质量的情况下尽量使用gif，因为gif一般大小比较小。</li>
<li>css里尽量不要用id， id是由程序员来添加写程序用。</li>
<li>剪切图片的时候尽量沿图像颜色边界剪切，这样可以尽量减小图片的大小。</li>
<li>因为浏览器会分开下载每幅图片，所以它需要知道图片的高度和宽度，这样的话，当下载图片的时候，浏览器才能为每幅图片创建一个占位符。否则，如果在每幅图片被下载下来之后，浏览器才知道它的真实尺寸，它就会对页面进行重新排列。这会导致页面渲染的速度变慢并且是用户恼怒。要设置一幅图片的尺寸，可以采用元素的width 和 height 属性或者CSS的width 和 height 属性。 不必两者都使用，css属性会覆盖HTML属性的。</li>
<li>浏览器选择的布局算法类型依赖于表格的类型，并且依赖于单元格所设置的宽度类型。换句话说，你将单元格的值设为auto, 100px 或者20%，这3者对应的结果有很大的不同。不仅仅是宽度值的不同，宽度的类型也分为好几种：自动，固定或者百分比。这些宽度的类型结合宽度的值，会导致浏览器使用不同的算法设置列的尺寸。</li>
<li>同一个模块尽量按照想要展示的顺序来排列两排li，比如：</li>
</ul>
<p>1 5<br>2 6<br>3 7<br>4 8</p>
<p>或者</p>
<p>1 2<br>3 4<br>5 6<br>7 8</p>
<p>Michael Bowers 在 《Pro.CSS.and.HTML.Design.Patterns》中给出了一些建议：</p>
<h4 id="css文件命名"><a href="#css文件命名" class="headerlink" title="css文件命名"></a>css文件命名</h4><p>I recommend naming stylesheets using single-word, lowercase names. This keeps stylesheet names simple and easy to remember, and works safely in all operating systems.I suggest you use a name that describes the scope and purpose of the stylesheet, such as site.css, page.css, handheld.css, print.css, and so forth. The standard extension for a stylesheet is .css. 我推荐使用单个而且是小写的英文单词。这样能保证名称好记而且在所有操作系统上都表现一致。我建议你使用一个能描述这个文件范围和目的名称，例如 site.css, page.css, handheld.css, print.css 等。标准的后缀名是.css。</p>
<h4 id="调试小技巧"><a href="#调试小技巧" class="headerlink" title="调试小技巧"></a>调试小技巧</h4><ul>
<li>You can disable a rule by placing the number 1 (or any other character for that matter) immediately in front of a property name; for example, 1background-color:white. This invalidates the rule, but only the one rule. All other valid rules before and after the invalid one are still processed. I often use this technique to invalidate one rule temporarily to disable its effect while testing other rules. 你可以在一个属性前面设置1，例如： 1background-color:white. 这个属性会失效，但其它在这个属性前面和后面的属性仍然有效，我经常使用这个技巧来临时验证一条属性，通过让其失效来测试其它的属性。</li>
<li>For example, you can put a border around all elements descended from by using html <em> { border:1px solid black; }. I often use this code to see the nesting of all elements in a document.比如说，你在调试css时可以通过设置 html </em> { border:1px solid black; }来给所有的元素加上一条边框，我经常这样做来查看所有元素之间的嵌套关系。</li>
</ul>
<h4 id="html属性"><a href="#html属性" class="headerlink" title="html属性"></a>html属性</h4><ul>
<li>font属性，即使只设置了一个值也将其他所有值都设置为默认值了。</li>
</ul>
<p>font is a particularly troublesome shorthand property because it combines so many properties into one, and all these values are inherited! These properties include font-family, font-size, font-weight, font-variant, font-style, and line-height. Remember that assigning even one value to font, such as font:1em;,causes the browser to set the default values for all these properties!</p>
<ul>
<li>background 属性</li>
</ul>
<p>The background property is a composite of all these properties. The property values can be presented in any order. Each property value is separated by a space. background:none transparent repeat left top scroll; is the default. Whenever you assign a background-image to an element, you should also assign a background-color and a contrasting color. This provides a fallback in case the image does not load, and it ensures text does not become invisible or hard to see, such as white text on a white background.</p>
<ul>
<li>图片文字</li>
</ul>
<p>确保有图片的位置都有文本，这样在图片下载失败的时候也能正确的显示文字。文字和图片的宽高一样。</p>
<h3 id="2-css概览"><a href="#2-css概览" class="headerlink" title="2.css概览"></a>2.css概览</h3><p>这张图显示了css中常见的属性的顺序：<br><img src="http://oeb0ci3nk.bkt.clouddn.com/css-shorthand-cheat-sheet.jpg" alt="css-shorthand-cheat-sheet"><br>这里有css 规范：<br><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Reference" title="CSS reference" target="_blank" rel="external">https://developer.mozilla.org/en-US/docs/Web/CSS/Reference</a></p>
<h3 id="3-css-reset-规则"><a href="#3-css-reset-规则" class="headerlink" title="3.css reset 规则"></a>3.css reset 规则</h3><p>每种浏览器都有自己的默认css设置，比如每种浏览器都会赋予</p><h1>元素不同的size 和 margin，如果自己在css中设定好<h1>的size和margin就能让h1 在所有的浏览器中有一致的表现。雅虎的 YUI 3 CSS Reset<br>    /**<p></p>
<pre><code> * YUI 3.5.0 - reset.css (http://developer.yahoo.com/yui/3/cssreset/)
 * http://cssreset.com
 * Copyright 2012 Yahoo! Inc. All rights reserved.
 * http://yuilibrary.com/license/
 */
/*
    TODO will need to remove settings on HTML since we can&apos;t namespace it.
    TODO with the prefix, should I group by selector or property for weight savings?
*/
html{
    color:#000;
    background:#FFF;
}
/*
    TODO remove settings on BODY since we can&apos;t namespace it.
*/
/*
    TODO test putting a class on HEAD.
        - Fails on FF.
*/
body,
div,
dl,
dt,
dd,
ul,
ol,
li,
h1,
h2,
h3,
h4,
h5,
h6,
pre,
code,
form,
fieldset,
legend,
input,
textarea,
p,
blockquote,
th,
td {
    margin:0;
    padding:0;
}
table {
    border-collapse:collapse;
    border-spacing:0;
}
fieldset,
img {
    border:0;
}
/*
    TODO think about hanlding inheritence differently, maybe letting IE6 fail a bit...
*/
address,
caption,
cite,
code,
dfn,
em,
strong,
th,
var {
    font-style:normal;
    font-weight:normal;
}

ol,
ul {
    list-style:none;
}

caption,
th {
    text-align:left;
}
h1,
h2,
h3,
h4,
h5,
h6 {
    font-size:100%;
    font-weight:normal;
}
q:before,
q:after {
    content:&apos;&apos;;
}
abbr,
acronym {
    border:0;
    font-variant:normal;
}
/* to preserve line-height and selector appearance */
sup {
    vertical-align:text-top;
}
sub {
    vertical-align:text-bottom;
}
input,
textarea,
select {
    font-family:inherit;
    font-size:inherit;
    font-weight:inherit;
}
/*to enable resizing for IE*/
input,
textarea,
select {
    *font-size:100%;
}
/*because legend doesn&apos;t inherit in IE */
legend {
    color:#000;
}
/* YUI CSS Detection Stamp */
#yui3-css-stamp.cssreset { display: none; }


Michael Bowers 在 《Pro.CSS.and.HTML.Design.Patterns》中总结归纳的css reset 规则：
    Complete Baseline Stylesheet
/* BLOCK ELEMENTS */
html, div, map, dt, form { display:block; }
body       { display:block; margin:8px; font-family:serif; font-size:medium; }
p, dl
{ display:block; margin-top:1em; margin-bottom:1em; }
dd
{ display:block; margin-left:40px; }
address    { display:block; font-style:italic; }
blockquote { display:block; margin:1em 40px; }
h1 { display:block; font-size:2em;      font-weight:bold;   margin:0.67em 0; }
h2 { display:block; font-size:1.5em;    font-weight:bold;   margin:0.83em 0; }
h3 { display:block; font-size:1.125em;  font-weight:bold;   margin:1em    0; }
h4 { display:block; font-size:1em;      font-weight:bold;   margin:1.33em 0; }
h5 { display:block; font-size:0.75em;   font-weight:bold;   margin:1.67em 0; }
h6 { display:block; font-size:0.5625em; font-weight:bold;   margin:2.33em 0; }
pre{ display:block; font-family:monospace; white-space:pre; margin:1em    0; }
hr { display:block; height:2px; border:1px; margin:0.5em auto 0.5em auto; }
/* TABLE ELEMENTS */
table   { border-spacing:2px; border-collapse:separate;
margin-top:0; margin-bottom:0; text-indent:0; }
caption { text-align:center; }
td
{ padding:1px; }
th
{ font-weight:bold; padding:1px; }
tbody, thead, tfoot { vertical-align:middle; }
/* INLINE ELEMENTS */
strong { font-weight:bold; }
cite, em, var, dfn { font-style:italic; }
code, kbd, samp { font-family:monospace; }
ins { text-decoration:underline; }
del { text-decoration:line-through; }
sub { vertical-align:-0.25em; font-size:smaller; line-height:normal; }
sup { vertical-align: 0.5em;
font-size:smaller; line-height:normal; }
abbr[title], acronym[title] { border-bottom:dotted 1px; }
/* LIST ELEMENTS */
ul { list-style-type:disc;    margin:1em 0; margin-left:40px; padding-left:0;}
ol { list-style-type:decimal; margin:1em 0; margin-left:40px; padding-left:0;}
/* remove top &amp; bottom margins for nested lists */
ul ul, ul ol, ul dl, ol ul, ol ol, ol dl, dl ul, dl ol, dl dl
{ margin-top:0; margin-bottom:0; }
/* use circle when ul nested 2 deep */
ol ul, ul ul { list-style-type:circle; }
/* use square when ul nested 3 deep */
ol ol ul, ol ul ul, ul ol ul, ul ul ul { list-style-type:square; }
</code></pre><h3 id="4-clear的用法"><a href="#4-clear的用法" class="headerlink" title="4.clear的用法"></a>4.clear的用法</h3><p>clear是制作网页的时候经常用到的属性，它的作用就是不让其他元素在同一行占位，Michael Bowers 在 《Pro.CSS.and.HTML.Design.Patterns》中给出了一个float的例子：<br><img src="http://oeb0ci3nk.bkt.clouddn.com/float-clear.jpg" alt="float-clear"><br>图中彩色的左浮动和右浮动层分别用了float:left 和 float:right，用来验证clear是否起到作用。<br>图中第一行第一行的黄色的p标签没有使用clear，所以左右两边都被浮动层占据了。<br>第二行的黄色的p标签使用了clear-left，所以左边就不会被浮动层占据。<br>第三行的黄色的p标签使用了clear-right，所以右边就不会被浮动层占据。<br>第四行的黄色的p标签使用了clear-both，所以左右两边都不会被浮动层占据。</p>
<p>我感觉clear可以用在某个div模块里最后加一个clear的层也可以保证网页下面的浮动层（float）不会跑到上面的模块里来。例如：<br>    <div class="wrapper"><br>        <div class="part1"></div><br>      <div class="part2"></div><br>      <div class="part3"></div><br>      <div style="clear:both"></div><br>    </div></p>
<h3 id="5-min-height"><a href="#5-min-height" class="headerlink" title="5.min-height"></a>5.min-height</h3><p>如果网站初期内容不够，很多模块都没有内容，就很容易出现在下面的层跑到上面来了，这个时候用min-height设置一下最小高度可以保证网页的美观。</p>
<h3 id="6-media-设置多平台不同屏幕宽度的css"><a href="#6-media-设置多平台不同屏幕宽度的css" class="headerlink" title="6.media 设置多平台不同屏幕宽度的css"></a>6.media 设置多平台不同屏幕宽度的css</h3><p>百度统计的：<a href="http://tongji.baidu.com/data/screen" title="分辨率使用情况" target="_blank" rel="external">http://tongji.baidu.com/data/screen</a><br>根据不同的分辨率可以设置不同的css来适应不同的分辨率。</p>
<pre><code>@media only screen and (max-width: 959px) {body{background:green;}}/*宽度小于960px时 绿色*/

/* Tablet Portrait size to standard 960 (devices and browsers) */
@media only screen and (min-width: 768px) and (max-width: 959px) {body{background:red;}}/*宽度小于960px时，大于768px时 红色*/

/* All Mobile Sizes (devices and browser) */
@media only screen and (max-width: 767px) {body{background:yellow;}}/*宽度小于768px时 黄色*/
</code></pre><h3 id="7-选择符以及优先级"><a href="#7-选择符以及优先级" class="headerlink" title="7.选择符以及优先级"></a>7.选择符以及优先级</h3><p>Michael Bowers 在 《Pro.CSS.and.HTML.Design.Patterns》中给出的优先级规则：</p>
<ol>
<li>使用!important规则群组拥有最高优先级，他们会覆盖掉所有非!important规则。</li>
<li>优先级第二高的群组是指嵌套在style属性里的规则。因为使用style属性会增加代码维护的难度，所以不建议使用它。</li>
<li>优先级第三高的群组是指那些拥有一个或多个ID选择符的规则。比如 #i100{border:6px solid black;}会覆盖掉*.c10{border:4px solid black;}</li>
<li>优先级第四高的群组是指含有一个或多个类，属性或伪类选择符的规则。例如：*.c10{border:4px solid black;}的优先级高于div{border:2px solid black;}。</li>
<li>优先级第五高的群组是含有一个或多个元素选择符的规则。好比，div{border:2px solid black;}的优先级要高于*{border:0px solid black;}</li>
<li>优先级最低的群组是只有通配(universal)选择符的规则-例如 *{border:0px solid black;}。<br>当竞争规则位于同一选择群组并且拥有同样等级和数量的选择符时，它们的优先级按所处的位置来排。位于高优先级位置的规则会覆盖掉低优先级位置里的竞争规则。（再次强调，只有当竞争规则位于同一选择符并且拥有同样等级和数量的选择符时，才应用这条规则，选择符群组要优于位置群组。）</li>
<li>最高优先级位置为HTML文档头部中的<style>元素。比如<style>里的规则会覆盖掉通过嵌在<style>里的@import语句引入的样式表里的竞争规则。</li>
<li>第二高优先级的位置为通过嵌在<style>元素里的@import语句来引入的样式表。例如由<style>中@import引入的样式表中的规则的优先级要高于通过<link>元素链接的样式表中的竞争规则。</li>
<li>第三高优先级的位置为通过<link>元素链接的样式表。例如，通过<link>元素链接的样式表中的规则会覆盖掉在样式表中通过@import语句引入的竞争规则。</li>
<li>第四高优先级的位置为由<link>链接的样式表中通过@import语句引入的样式表。比如，一条规则通过@import语句引入到已链接到文档的样式表中，那么它会覆盖掉由终端用户绑定的样式表中的竞争规则。</li>
<li>第五高优先级的位置为终端用户绑定的样式表。当在终端用户的样式表中使用!important规则会有一个例外，此时这些规则会拥有最高优先级。这便允许了终端用户创建的规则能够覆盖开发者样式表中的规则。</li>
<li>最低优先级的位置为浏览器所提供的默认样式表。</li>
</ol>
<p>这里有更详细的优先级规则：<a href="http://www.cnblogs.com/wangfupeng1988/p/4285251.html" title="选择器的优先级">http://www.cnblogs.com/wangfupeng1988/p/4285251.html</a></p>
<p>根据这些优先级规则，一般写css的顺序是：<br>    <code>html,body{border-style:none!important;}</code><br>    <code>*{border:0px solid black;}/*通配选择符*/</code><br>    <code>div {border:2px solid black;}/*元素选择符*/</code><br>    <code>*.c10 {border:4px solid black;}/*类，属性和伪类选择符选择符*/</code><br>    <code>#i100{border:6px solid black;}/*ID选择符*/</code></p>
<h3 id="8-制作移动网页"><a href="#8-制作移动网页" class="headerlink" title="8.制作移动网页"></a>8.制作移动网页</h3><pre><code>&lt;meta name=&quot;viewport&quot; content=&quot;initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;
</code></pre><p>使用以上代码来禁止用户手动调整缩放</p>
</style></li></ol></h1></h1>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/03/tech/" itemprop="url">
                  如何搭建自己的统一认证平台
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-06-03T18:44:12+08:00" content="2016-06-03">
              2016-06-03
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/技术/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>今天开始写第一篇博文，主要是感觉平时很多知识点都是零零碎碎的，想用博客的形式记录下来，这样一方面是便于以后自己查找，另外一方面放到网上也可以和其他人交流。我之前也在iteye写过博客<a href="http://odysseus-110.iteye.com/" title="博客" target="_blank" rel="external">http://odysseus-110.iteye.com/</a>，但是后来感觉iteye网站的样式和功能都不是我想要的，所以就自己动手重新搭建了一个。</p>
<p>前段时间研究了下php版本的oauth2，于是自己尝试着在本机上搭建了起来。</p>
<h3 id="1-目标"><a href="#1-目标" class="headerlink" title="1. 目标"></a>1. 目标</h3><h4 id="1-1：目标1-第三方登录验证"><a href="#1-1：目标1-第三方登录验证" class="headerlink" title="1.1：目标1 第三方登录验证"></a>1.1：目标1 第三方登录验证</h4><p><img src="http://oeb0ci3nk.bkt.clouddn.com/image/blog/login-authentication.png" alt="login-authentication"></p>
<p>当用户点击第三方网站登录框下面的图标时提示用户授权登录：<br><img src="http://oeb0ci3nk.bkt.clouddn.com/image/blog/login-authentication-step2.png" alt="login-authentication-step2"></p>
<h4 id="1-2：目标2-将网站的资源提供给第三方平台"><a href="#1-2：目标2-将网站的资源提供给第三方平台" class="headerlink" title="1.2：目标2 将网站的资源提供给第三方平台"></a>1.2：目标2 将网站的资源提供给第三方平台</h4><p>例如通过 <a href="http://wiki.open.qq.com/wiki/website/API%E5%88%97%E8%A1%A8" title="腾讯的开放平台" target="_blank" rel="external">腾讯的开放平台</a> 可以获得用户的昵称、头像、性别等：<br><img src="http://oeb0ci3nk.bkt.clouddn.com/image/blog/authentication-provision.png" alt="authentication-provision"><br>要实现这两个目标，我首先想到的是可以参考一下各大互联网公司都是怎么做的。</p>
<p><a href="http://wiki.open.qq.com/wiki/website/OAuth2.0%E7%AE%80%E4%BB%8B" title="QQ登录OAuth2.0" target="_blank" rel="external">QQ登录OAuth2.0</a><br><img src="http://oeb0ci3nk.bkt.clouddn.com/image/blog/qq-oauth2.0.png" alt="qq-oauth2.0"><br><a href="http://open.weibo.com/wiki/%E6%8E%88%E6%9D%83%E6%9C%BA%E5%88%B6" title="新浪微博开放平台" target="_blank" rel="external">新浪微博开放平台</a><br><img src="http://oeb0ci3nk.bkt.clouddn.com/image/blog/weibo-oauth2.0.png" alt="weibo-oauth2.0"><br>这两家网站使用的都是oauth2.0，于是搜了下 <a href="https://tools.ietf.org/html/rfc6749" title="oauth2.0 的定义" target="_blank" rel="external">oauth2.0 的定义</a> 。</p>
<h3 id="2-oauth2-介绍"><a href="#2-oauth2-介绍" class="headerlink" title="2. oauth2 介绍"></a>2. oauth2 介绍</h3><p>The OAuth 2.0 authorization framework enables a third-party application to obtain limited access to an HTTP service, either on behalf of a resource owner by orchestrating an approval interaction between the resource owner and the HTTP service, or by allowing the third-party application to obtain access on its own behalf. This specification replaces and obsoletes the OAuth 1.0 protocol described in <a href="http://tools.ietf.org/html/rfc5849" title="RFC 5849" target="_blank" rel="external">RFC 5849</a> .<br>OAuth2.0 认证框架能让第三方应用获得对一个HTTP服务的有限访问权限，或者通过在资源拥有者和HTTP服务之间安排一个经过批准的交互来代表一个资源拥有者，或者允许第三方应用代表自己获得访问权限。此说明书替代并且淘汰了在 <a href="http://tools.ietf.org/html/rfc5849" title="RFC 5849" target="_blank" rel="external">RFC 5849</a> 中描述的OAuth 1.0协议。<br>用户在使用第三方服务的时候，如果第三方服务要使用到用户已经拥有的资源，比如用户已经在 www.photos.com 上传了图片，现在用户要在第三方服务 www.showphotos.com 上来显示这些图片，而用户又不想再上传一遍图片，那就可以经过用户的同意，让 www.photos.com 授权给 www.showphotos.com 来显示图片。<br><img src="http://oeb0ci3nk.bkt.clouddn.com/image/blog/explanation-oauth2.0.png" alt="explanation-oauth2.0"><br>oauth2协议 流程图</p>
<p><img src="http://oeb0ci3nk.bkt.clouddn.com/image/blog/Abstract-Protocol-Flow.png" alt="Abstract-Protocol-Flow"></p>
<p>The abstract OAuth 2.0 flow illustrated in Figure 1 describes the interaction between the four roles and includes the following steps:</p>
<p>图1中说明的抽象的OAuth 2.0的流程描述了四种角色之间的交互并且包含以下几个步骤：</p>
<p>(A) The client requests authorization from the resource owner. The authorization request can be made directly to the resource owner (as shown), or preferably indirectly via the authorization server as an intermediary.</p>
<p>(A) 客户端(The client)从资源所有者(resource owner)请求授权。这个授权请求可以直接发送给资源所有者（正如图中所示），或者更好的方法是间接的通过作为中介的认证服务器(authorization server)来发送。</p>
<p>(B) The client receives an authorization grant, which is a credential representing the resource owner’s authorization, expressed using one of four grant types defined in this specification or using an extension grant type. The authorization grant type depends on the method used by the client to request authorization and the types supported by the authorization server.</p>
<p>(B) 客户端收到一个代表了资源所有者许可了的认证授权，这个过程使用了这个<a href="https://tools.ietf.org/html/rfc6749" title="说明书" target="_blank" rel="external">说明书</a>里定义的四种授权方式或者一种扩充的授权方式。认证授权的方式取决于客户端请求授权的方法和认证服务器支持的方式。</p>
<p>(C) The client requests an access token by authenticating with the authorization server and presenting the authorization grant.</p>
<p>(C) 客户端通过对认证服务器进行认证并且代表认证授权来请求一个令牌(access token)。</p>
<p>(D) The authorization server authenticates the client and validates the authorization grant, and if valid, issues an access token.</p>
<p>(D) 认证服务器授权给客户端并且确认这个认证授权是否有效，如果有效，则发放令牌。</p>
<p>(E) (F) 就是客户端有了令牌以后就可以通过令牌从资源服务器(Resource Server)得到受保护的资源了。</p>
<p>我感觉这里客户端这个概念容易让人产生误解，因为 client 很容易被误解成B/S结构中的客户端浏览器。而其实这里 “客户端”（client）是指 Third-party application：第三方应用程序。详细的定义可以参考 <a href="http://www.ruanyifeng.com/blog/2014/05/oauth_2_0.html" title=" 二、名词定义 " target="_blank" rel="external">二、名词定义</a> ，还可以看看 <a href="http://www.fising.cn/2011/03/%E4%B8%80%E6%AD%A5%E4%B8%80%E6%AD%A5%E6%90%AD%E5%BB%BA-oauth-%E8%AE%A4%E8%AF%81%E6%9C%8D%E5%8A%A1%E5%99%A8.shtml" title=" 一步一步搭建 OAuth 认证服务器  " target="_blank" rel="external">一步一步搭建 OAuth 认证服务器</a> 关于 OAuth2 的比喻。<br><img src="http://oeb0ci3nk.bkt.clouddn.com/image/blog/diagram-oauth2.0.png" alt="diagram-oauth2.0"></p>
<h3 id="3-oauth2-实现方式"><a href="#3-oauth2-实现方式" class="headerlink" title="3. oauth2 实现方式"></a>3. oauth2 实现方式</h3><p><a href="http://oauth.net/code/" title="The OAuth community" target="_blank" rel="external">The OAuth community</a> 有java，php，ruby 等各种语言的oauth2实现的版本。我选择的是 <a href="http://bshaffer.github.io/oauth2-server-php-docs/" title="oauth2 server php" target="_blank" rel="external">oauth2 server php</a> ，可以在 <a href="https://github.com/bshaffer/oauth2-server-php/tree/v0.9" title="github" target="_blank" rel="external">github</a> 上下载到源代码，因为看上去他们的logo做得最漂亮。</p>
<h3 id="4-demo"><a href="#4-demo" class="headerlink" title="4. demo"></a>4. demo</h3><p><a href="http://brentertainment.com/oauth2/" title="brentertainment.com" target="_blank" rel="external">brentertainment.com</a> 上有已经部署在网上的demo，如果搭建好 oauth2 server php 以后就应该也是这个样子。</p>
<p>目标1 第三方登录验证 对应的流程图，Authorization Code这种授权方式相对来讲比较严格，需要用户(resource owner)确认客户端（client）才能获得令牌(token)。<br><img src="http://oeb0ci3nk.bkt.clouddn.com/image/blog/Authorization-Code-Flow.png" alt="Authorization-Code-Flow"></p>
<p>目标2 将网站的资源提供给第三方平台 对应的流程图，client credentials这种授权方式就是客户端(client)未经过用户(resource owner)确认直接获得令牌(token)。</p>
<p><img src="http://oeb0ci3nk.bkt.clouddn.com/image/blog/client-credentials-flow.png" alt="client-credentials-flow"><br>根据 <a href="http://bshaffer.github.io/oauth2-server-php-docs/" title="OAuth2 Server PHP" target="_blank" rel="external">OAuth2 Server PHP</a> 提供的 <a href="http://bshaffer.github.io/oauth2-server-php-docs/cookbook/" title="cookbook" target="_blank" rel="external">cookbook</a>，一步步搭建demo。</p>
<h4 id="4-1-首先建立一个文件夹-my-oauth2-walkthrough，将下载下来的php文件拷贝进去。"><a href="#4-1-首先建立一个文件夹-my-oauth2-walkthrough，将下载下来的php文件拷贝进去。" class="headerlink" title="4.1: 首先建立一个文件夹 my-oauth2-walkthrough，将下载下来的php文件拷贝进去。"></a>4.1: 首先建立一个文件夹 my-oauth2-walkthrough，将下载下来的php文件拷贝进去。</h4><h4 id="4-2-在数据库中创建表"><a href="#4-2-在数据库中创建表" class="headerlink" title="4.2: 在数据库中创建表"></a>4.2: 在数据库中创建表</h4><pre><code>CREATE TABLE oauth_clients (client_id VARCHAR(80) NOT NULL, client_secret VARCHAR(80), redirect_uri VARCHAR(2000) NOT NULL, grant_types VARCHAR(80), scope VARCHAR(100), user_id VARCHAR(80), CONSTRAINT clients_client_id_pk PRIMARY KEY (client_id));
CREATE TABLE oauth_access_tokens (access_token VARCHAR(40) NOT NULL, client_id VARCHAR(80) NOT NULL, user_id VARCHAR(255), expires TIMESTAMP NOT NULL, scope VARCHAR(2000), CONSTRAINT access_token_pk PRIMARY KEY (access_token));
CREATE TABLE oauth_authorization_codes (authorization_code VARCHAR(40) NOT NULL, client_id VARCHAR(80) NOT NULL, user_id VARCHAR(255), redirect_uri VARCHAR(2000), expires TIMESTAMP NOT NULL, scope VARCHAR(2000), CONSTRAINT auth_code_pk PRIMARY KEY (authorization_code));
CREATE TABLE oauth_refresh_tokens (refresh_token VARCHAR(40) NOT NULL, client_id VARCHAR(80) NOT NULL, user_id VARCHAR(255), expires TIMESTAMP NOT NULL, scope VARCHAR(2000), CONSTRAINT refresh_token_pk PRIMARY KEY (refresh_token));
CREATE TABLE oauth_users (username VARCHAR(255) NOT NULL, password VARCHAR(2000), first_name VARCHAR(255), last_name VARCHAR(255), CONSTRAINT username_pk PRIMARY KEY (username));
CREATE TABLE oauth_scopes (scope TEXT, is_default BOOLEAN);
CREATE TABLE oauth_jwt (client_id VARCHAR(80) NOT NULL, subject VARCHAR(80), public_key VARCHAR(2000), CONSTRAINT jwt_client_id_pk PRIMARY KEY (client_id));
</code></pre><h4 id="4-3-搭建-OAuth2-Server"><a href="#4-3-搭建-OAuth2-Server" class="headerlink" title="4.3: 搭建 OAuth2 Server"></a>4.3: 搭建 OAuth2 Server</h4><p>我们需要创建并且配置我们自己的 OAuth2 Server object. 在我们的应用里它将会被所有其它的程序用到。给它命名为 server.php，也就是上图Figure 6 Client Credentials Flow 中右边的认证服务器 Authorization Server。</p>
<pre><code>$dsn      = &apos;mysql:dbname=my_oauth2_db;host=localhost&apos;;
$username = &apos;root&apos;;
$password = &apos;&apos;;
// error reporting (this is a demo, after all!)
ini_set(&apos;display_errors&apos;,1);error_reporting(E_ALL);

// Autoloading (composer is preferred, but for this example let&apos;s just do this)
require_once(&apos;oauth2-server-php/src/OAuth2/Autoloader.php&apos;);
OAuth2\Autoloader::register();

// $dsn is the Data Source Name for your database, for exmaple &quot;mysql:dbname=my_oauth2_db;host=localhost&quot;
$storage = new OAuth2\Storage\Pdo(array(&apos;dsn&apos; =&gt; $dsn, &apos;username&apos; =&gt; $username, &apos;password&apos; =&gt; $password));

// Pass a storage object or array of storage objects to the OAuth2 server class
$server = new OAuth2\Server($storage);

// Add the &quot;Client Credentials&quot; grant type (it is the simplest of the grant types)
$server-&gt;addGrantType(new OAuth2\GrantType\ClientCredentials($storage));

// Add the &quot;Authorization Code&quot; grant type (this is where the oauth magic happens)
$server-&gt;addGrantType(new OAuth2\GrantType\AuthorizationCode($storage));
</code></pre><p>注意：请一定要定义适合你自己数据库的 $dsn, $username, 和 $password。</p>
<h4 id="4-4-创建一个-Token-Controller"><a href="#4-4-创建一个-Token-Controller" class="headerlink" title="4.4: 创建一个 Token Controller"></a>4.4: 创建一个 Token Controller</h4><p>接下里我们将创建 Token Controller。 这个URI将一个 OAuth2.0 令牌返回给客户端(Client)。 这里是token.php 文件中一个token controller的一个例子：</p>
<pre><code>// include our OAuth2 Server object
require_once __DIR__.&apos;/server.php&apos;;

// Handle a request for an OAuth2.0 Access Token and send the response to the client
$server-&gt;handleTokenRequest(OAuth2\Request::createFromGlobals())-&gt;send();
</code></pre><p>这样就创建完了Token Controller，接下来往数据库里插入一条数据来创建一个客户端 (OAuth Client)，相当于第三方应用程序（OAuth Client）注册:</p>
<pre><code>INSERT INTO oauth_clients (client_id, client_secret, redirect_uri) VALUES (&quot;testclient&quot;, &quot;testpass&quot;, &quot;http://fake/&quot;);
</code></pre><p>如果你在linux下，可以直接输入下面的命令来模拟客户端访问token.php，这里就是模拟 Figure 6 Client Credentials Flow 的流程，客户端从认证服务器请求一个令牌(Access Token):</p>
<pre><code>curl -u testclient:testpass http://localhost/my-oauth2-walkthrough/token.php -d &apos;grant_type=client_credentials&apos;
</code></pre><p>也可以自己写一个php文件来模拟:</p>
<pre><code>$url = &apos;http://localhost/my-oauth2-walkthrough/token.php&apos;;
$post_data = array(
   &apos;grant_type&apos;      =&gt; &apos;client_credentials&apos;
);
$auth_name=&apos;testclient&apos;;
$auth_pass = &apos;testpass&apos;;
$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, $url);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
curl_setopt($ch, CURLOPT_USERPWD, $auth_name.&apos;:&apos;.$auth_pass); 
curl_setopt($ch, CURLOPT_POST, 1);
curl_setopt($ch, CURLOPT_POSTFIELDS, $post_data);
$output = curl_exec($ch);
if($output===FALSE){
  echo &quot;cURL Error: &quot; . curl_error($ch);
}
curl_close($ch);
print_r($output);
</code></pre><p>如果一切正常，你应该可以看到下面的输出，表示获得令牌(Access Token)成功：</p>
<pre><code>{&quot;access_token&quot;:&quot;03807cb390319329bdf6c777d4dfae9c0d3b3c35&quot;,&quot;expires_in&quot;:3600,&quot;token_type&quot;:&quot;bearer&quot;,&quot;scope&quot;:null}
</code></pre><h4 id="4-5-创建一个-Resource-Controller"><a href="#4-5-创建一个-Resource-Controller" class="headerlink" title="4.5: 创建一个 Resource Controller"></a>4.5: 创建一个 Resource Controller</h4><p>现在可以根据获得的令牌(token)来请求服务器的资源了，也就是客户端(client)可以访问资源服务器的API。<br>    // include our OAuth2 Server object<br>    require_once <strong>DIR</strong>.’/server.php’;</p>
<pre><code>// Handle a request to a resource and authenticate the access token
if (!$server-&gt;verifyResourceRequest(OAuth2\Request::createFromGlobals())) {
    $server-&gt;getResponse()-&gt;send();
    die;
}
echo json_encode(array(&apos;success&apos; =&gt; true, &apos;message&apos; =&gt; &apos;You accessed my APIs!&apos;));
</code></pre><p>如果你在linux下，可以直接输入下面的命令来模拟客户端访问resource.php，（用上一步得到token替换YOUR_TOKEN）:</p>
<pre><code>curl http://localhost/my-oauth2-walkthrough/resource.php -d &apos;access_token=YOUR_TOKEN&apos;
</code></pre><p>也可以自己写一个php文件来模拟:</p>
<pre><code>$_post_url = &apos;http://localhost/my-oauth2-walkthrough/resource.php&apos;;

$post = &apos;access_token=YOUR_TOKEN&apos;;

$curl = curl_init ( $_post_url );
curl_setopt ( $curl, CURLOPT_HEADER, 0 );
$header = array ();
$header [] = &apos;Host:localhost&apos;;
$header [] = &apos;Connection: keep-alive&apos;;
$header [] = &apos;User-Agent: ozilla/5.0 (X11; Linux i686) AppleWebKit/535.1 (KHTML, like Gecko) Chrome/14.0.835.186 Safari/535.1&apos;;
$header [] = &apos;Accept:text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8&apos;;
$header [] = &apos;Accept-Language: zh-CN,zh;q=0.8&apos;;
$header [] = &apos;Accept-Charset: GBK,utf-8;q=0.7,*;q=0.3&apos;;
$header [] = &apos;Cache-Control:max-age=0&apos;;
$header [] = &apos;Content-Type:application/x-www-form-urlencoded&apos;;
curl_setopt ( $curl, CURLOPT_HTTPHEADER, $header );
curl_setopt ( $curl, CURLOPT_POST, 1);
curl_setopt ( $curl, CURLOPT_POSTFIELDS, $post );
$result = curl_exec ( $curl );
curl_close ( $curl );
var_dump ( $result );
</code></pre><p>如果一切正常，你应该可以看到下面的输出（这个json串就代表了资源服务器提供的资源）：</p>
<pre><code>{&quot;success&quot;:true,&quot;message&quot;:&quot;You accessed my APIs!&quot;}
</code></pre><h4 id="4-6-创建一个-Authorize-Controller"><a href="#4-6-创建一个-Authorize-Controller" class="headerlink" title="4.6: 创建一个 Authorize Controller"></a>4.6: 创建一个 Authorize Controller</h4><p>Authorize Controllers 是 OAuth2 的“杀手级特性”，它允许你的用户给第三方应用授权。不同于上面第一个 token controller 例子里直接发放令牌，在下面这个例子中一个 authorize controller 只有在用户(resource owner) 授权了请求的情况下才发放一个令牌(token)。 这里就是模拟 Figure 3 Authorization Code Flow 的流程，创建 authorize.php:</p>
<pre><code>// include our OAuth2 Server object
require_once __DIR__.&apos;/server.php&apos;;

$request = OAuth2\Request::createFromGlobals();
$response = new OAuth2\Response();

// validate the authorize request
if (!$server-&gt;validateAuthorizeRequest($request, $response)) {
    $response-&gt;send();
    die;
}
// display an authorization form
if (empty($_POST)) {
  exit(&apos;
&lt;form method=&quot;post&quot;&gt;
  &lt;label&gt;Do You Authorize TestClient?&lt;/label&gt;&lt;br /&gt;
  &lt;input type=&quot;submit&quot; name=&quot;authorized&quot; value=&quot;yes&quot;&gt;
  &lt;input type=&quot;submit&quot; name=&quot;authorized&quot; value=&quot;no&quot;&gt;
&lt;/form&gt;&apos;);
}

// print the authorization code if the user has authorized your client
$is_authorized = ($_POST[&apos;authorized&apos;] === &apos;yes&apos;);
$server-&gt;handleAuthorizeRequest($request, $response, $is_authorized);
if ($is_authorized) {
  // this is only here so that you get to see your code in the cURL request. Otherwise, we&apos;d redirect back to the client
  $code = substr($response-&gt;getHttpHeader(&apos;Location&apos;), strpos($response-&gt;getHttpHeader(&apos;Location&apos;), &apos;code=&apos;)+5, 40);
  exit(&quot;SUCCESS! Authorization Code: $code&quot;);
}
$response-&gt;send();
</code></pre><p>现在将下面的URL粘贴到你的浏览器中:</p>
<pre><code>http://localhost/my-oauth2-walkthrough/authorize.php?response_type=code&amp;client_id=testclient&amp;state=xyz
</code></pre><p>页面就会显示一个认证表单，点击 “yes” 按钮以后就会在页面上显示一个 authorization code， 这个 authorization code 现在可以用来从你之前创建的token.php那里获得一个令牌(access token)。使用这个返回的 authorization code 作为参数访问 token.php：</p>
<pre><code>curl -u testclient:testpass http://localhost/token.php -d &apos;grant_type=authorization_code&amp;code=YOUR_CODE&apos;
</code></pre><p>同样也可以自己写一个php文件来模拟:</p>
<pre><code>ini_set(&apos;date.timezone&apos;,&apos;Asia/Shanghai&apos;); 
$url = &apos;http://localhost/my-oauth2-walkthrough/token.php&apos;;
$post_data =
array(
   &apos;grant_type&apos;      =&gt; &apos;authorization_code&apos;,
   &apos;redirect_uri&apos; =&gt; &apos;YOUR_REDIRECT_URL&apos;,
   &apos;code&apos; =&gt; &apos;YOUR_CODE&apos;
);
$auth_name=&apos;testclient&apos;;
$auth_pass = &apos;testpass&apos;;
$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, $url);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
curl_setopt($ch, CURLOPT_USERPWD, $auth_name.&apos;:&apos;.$auth_pass); 
curl_setopt($ch, CURLOPT_POST, 1);
curl_setopt($ch, CURLOPT_POSTFIELDS, $post_data);
$output = curl_exec($ch);
if($output===FALSE){
  echo &quot;cURL Error: &quot; . curl_error($ch);
}
curl_close($ch);
print_r($output);
</code></pre><p>就像之前一样，你将会收到一个令牌 access token ：</p>
<pre><code>{&quot;access_token&quot;:&quot;6f05ad622a3d32a5a81aee5d73a5826adb8cbf63&quot;,&quot;expires_in&quot;:3600,&quot;token_type&quot;:&quot;bearer&quot;,&quot;scope&quot;:null}
</code></pre><p>注意：一定要迅速的进行上述操作，因为 Authorization Codes 30秒就过期了！</p>
<p>参考资料：<br><a href="http://www.ruanyifeng.com/blog/2014/05/oauth_2_0.html" title="理解OAuth 2.0" target="_blank" rel="external">http://www.ruanyifeng.com/blog/2014/05/oauth_2_0.html</a><br><a href="http://www.fising.cn/docs/rfc5849-oauth-core-1.0-final-cn.html#anchor3" title="OAuth 核心 1.0 术语定义" target="_blank" rel="external">http://www.fising.cn/docs/rfc5849-oauth-core-1.0-final-cn.html#anchor3</a><br><a href="http://www.fising.cn/2011/06/%E5%9F%BA%E4%BA%8Ephp%E7%9A%84oauth%E8%AE%A4%E8%AF%81%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E6%90%AD%E5%BB%BA.shtml" title="基于 PHP &amp; MySQL 搭建 OAuth Server " target="_blank" rel="external">http://www.fising.cn/2011/06/%E5%9F%BA%E4%BA%8Ephp%E7%9A%84oauth%E8%AE%A4%E8%AF%81%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E6%90%AD%E5%BB%BA.shtml</a><br><a href="http://www.fising.cn/2011/03/%E4%B8%80%E6%AD%A5%E4%B8%80%E6%AD%A5%E6%90%AD%E5%BB%BA-oauth-%E8%AE%A4%E8%AF%81%E6%9C%8D%E5%8A%A1%E5%99%A8.shtml" title="一步一步搭建 OAuth 认证服务器" target="_blank" rel="external">http://www.fising.cn/2011/03/%E4%B8%80%E6%AD%A5%E4%B8%80%E6%AD%A5%E6%90%AD%E5%BB%BA-oauth-%E8%AE%A4%E8%AF%81%E6%9C%8D%E5%8A%A1%E5%99%A8.shtml</a><br><a href="http://oauth.net/code/" title="http://oauth.net/2/" target="_blank" rel="external">http://oauth.net/code/</a><br><a href="http://www.rfcreader.com/#rfc6749_line591" title="The OAuth 2.0 Authorization Framework" target="_blank" rel="external">http://www.rfcreader.com/#rfc6749_line591</a><br><a href="http://www.open-open.com/lib/view/open1392863557428.html" title="帮你深入理解OAuth2.0协议" target="_blank" rel="external">http://www.open-open.com/lib/view/open1392863557428.html</a><br><a href="http://blog.csdn.net/mengxiangbaidu/article/details/6948721" title="PHP CURL POST提交" target="_blank" rel="external">http://blog.csdn.net/mengxiangbaidu/article/details/6948721</a><br><a href="http://www.cnblogs.com/pengyingh/articles/2377968.html" title="oauth2开放认证协议原理及案例分析" target="_blank" rel="external">http://www.cnblogs.com/pengyingh/articles/2377968.html</a><br><a href="https://knpuniversity.com/screencast/oauth" title="OAuth2 in 8 Steps" target="_blank" rel="external">https://knpuniversity.com/screencast/oauth</a><br><a href="http://tools.ietf.org/html/rfc6749" title="The OAuth 2.0 Authorization Framework" target="_blank" rel="external">http://tools.ietf.org/html/rfc6749</a><br><a href="http://brentertainment.com/oauth2/" title="OAuth2.0 Demo Application" target="_blank" rel="external">http://brentertainment.com/oauth2/</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="vergilius" />
          <p class="site-author-name" itemprop="name">vergilius</p>
          <p class="site-description motion-element" itemprop="description">vergilius.me</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">8</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">vergilius</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  




  
  

  

  

  

</body>
</html>
